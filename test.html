<!doctype html>
<html lang="en">
  <head>
     <!--Currently broken, fix later for marginal improvement-->
  <link rel="icon" type="image/x-icon" href="/NCRLogo.png">

  <link rel="stylesheet" href="./style.css">

  <style type="text/css">

    #howTo{
    position: fixed;
    display: none;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0,0,0,0.7);
    z-index: 2;
    cursor: pointer;
  }
  
  #text{
    position: absolute;
    top: 10%;
    left: 10%;
    right: 10%;
    font-size: 20px;
    color: white;
    
  }
  
  #actionButtons{
    display: block;
  }

  #moveBox {
    display: none;
  }

</style>

<title>NCR Fish Bandit</title>
  </head>

<div
  id="anychart-embed-countries-united-kingdom"
  class="anychart-embed anychart-embed-countries-united-kingdom"
>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.15/proj4.js"></script>
  <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
  <script src="https://cdn.anychart.com/releases/v8/js/anychart-map.min.js"></script>
  <script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js"></script>
  <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
  <script src="https://cdn.anychart.com/geodata/2.2.0/countries/united_kingdom/united_kingdom.js"></script>
  <div id="ac_style_countries-united-kingdom" style="display: none">
     #container { max-width: 100%; height: 100%; margin: 0; padding: 0; float: left;}
  </div>
  <script>
    (function () {
      function ac_add_to_head(el) {
        var head = document.getElementsByTagName("head")[0];
        head.insertBefore(el, head.firstChild);
      }
      function ac_add_link(url) {
        var el = document.createElement("link");
        el.rel = "stylesheet";
        el.type = "text/css";
        el.media = "all";
        el.href = url;
        ac_add_to_head(el);
      }
      function ac_add_style(css) {
        var ac_style = document.createElement("style");
        if (ac_style.styleSheet) ac_style.styleSheet.cssText = css;
        else ac_style.appendChild(document.createTextNode(css));
        ac_add_to_head(ac_style);
      }
      ac_add_link(
        "https://cdn.anychart.com/releases/v8/css/anychart-ui.min.css"
      );
      ac_add_style(
        document.getElementById("ac_style_countries-united-kingdom").innerHTML
      );
      ac_add_style(
        ".anychart-embed-countries-united-kingdom{width:600px;height:450px;}"
      );
    })();
  </script>
  <div id="container"></div>
  <script>
    anychart.onDocumentReady(function () {
      // create map
      var map = anychart.map();

      // create data set
      var dataSet = anychart.data.set([
        { lat: 56.55, long: -3.7, name: "Perth and Kinross", value: 1 },
        { lat: 55.95, long: -3.11, name: "Edinburgh", value: 2 },
        { lat: 55.2, long: -2.07, name: "Northumberland", value: 3 },
        { lat: 54.17, long: -6.33, name: "Derry", value: 4 },
        { lat: 54.57, long: -2.79, name: "Cumbria", value: 6 },
        { lat: 51.5, long: -3.57, name: "Bridgend", value: 7 },
        { lat: 53.48, long: -2.24, name: "Manchester", value: 8 },
        { lat: 52.41, long: -1.5, name: "Coventry", value: 9 },
        { lat: 52.13, long: -0.46, name: "Bedford", value: 10 },
        { lat: 52.07, long: -2.65, name: "Herefordshire", value: 11 },
        { lat: 51.1, long: -2.92, name: "Somerset", value: 12 },
        { lat: 53.26, long: -4.42, name: "Anglesey", value: 13 },
        { lat: 50.41, long: -4.97, name: "Cornwall", value: 14 },
        { lat: 50.74, long: -2.34, name: "Dorset", value: 15 },
        { lat: 51.5, long: -0.12, name: "London City", value: 16 },
        { lat: 52.6, long: 0.88, name: "Norfolk", value: 17 },
        { lat: 51.27, long: 0.65, name: "Kent", value: 18 },
        { lat: 52.18, long: 0.97, name: "Suffolk", value: 19 },
        { lat: 57.7, long: -6.51, name: "Eilean Siar", value: 20 },
        { lat: 58.93, long: -2.74, name: "Orkney", value: 21 },
        { lat: 57.45, long: -4.99, name: "Highland", value: 22 },
        { lat: 55.45, long: -4.62, name: "South Ayrshire", value: 23 },
        { lat: 53.82, long: -0.43, name: "East Riding of Yorks", value: 24 },
        { lat: 54.19, long: -1.54, name: "North Yorkshire", value: 25 },
        { lat: 52.21, long: -3.99, name: "Ceredigion", value: 26 },
        { lat: 53.05, long: -0.16, name: "Lincolnshire", value: 27 },
        { lat: 53.1, long: -1.56, name: "Derbyshire", value: 28 },
        { lat: 51.76, long: -1.24, name: "Oxfordshire", value: 29 },
        { lat: 50.92, long: -0.46, name: "West Sussex", value: 30 },
        { lat: 51.05, long: -1.3, name: "Hampshire", value: 31 },
        { lat: 55.99, long: -5.88, name: "Argyll and Bute", value: 32 },
      ]);

      var fished = false;

      // set geo data, you can find this map in our geo maps collection
      // https://cdn.anychart.com/#maps-collection
      map.geoData(anychart.maps["united_kingdom"]);
      var series = map.bubble(dataSet);

      // PLAYER MOVE
      map.listen("pointClick", function (e) {
        var index = e.iterator.getIndex();
        var row = dataSet.row(index);
        if (row.fillOld) {
          row.fill = row.fillOld;
          delete row.fillOld;
        } else {
          row.fillOld = row.fill;
          row.fill = "green";
        }
        dataSet.row(index, row);
      });

      map.maxBubbleSize(10);

      //set map container id (div)
      map.container("container");

      //initiate map drawing
      map.draw();
    });
  </script>

  <!-- How to overlay FIX money starting amount-->
<div id="howTo" onclick="howToOff()">
  <div id="text"> HOW TO PLAY:<br/><br/>
    The Fish bandit has hit local ATMs, taping fish onto ATMs and making them non-assessable (and smelly!) It's up to you to catch the dastardly devil by following the trail of fish they've left behind.<br/><br/> You have a budget of **MONEY AMOUNT HERE** to catch the bandit. You can tell how close the Bandit is to you by the amount of fish taped to local ATMs, the more fish, the closer you are. The game has two phases, action phase and movement phase. <br/><br/> ACTION PHASE: Choose between Cleaning up ATMs for **MONEY AMOUNT HERE** or paying **MONEY AMOUNT HERE** to get a hint on where the Bandit will strike next. <br/><br/> MOVEMENT PHASE: Choose which city to investigate next, the further the city the more travel will cost. The Bandit will move to the next closest city they haven't visited yet If you move into the city the Bandit is in, or the Bandit is forced to move into you then you win!<br/><br/> Click anywhere to return to game</div>
</div>

    <div id="container"></div>
  <script src="mapScript.js"></script>
<div class="PLEASE">
  <h1 id = "phase"> Action Phase </h1>

  <div id="stats">
    <h3 id="currCity">Current Location: NULL </h3>
    <h3 id="cityFish">ATMs with Fish:  NULL </h3>
    <h3 id="currMoney">Current Cash: NULL </h3>
  </div>

  <div id="moveBox">
    <select id="moveOpt"><option>Select a Location to Move to</option></select>
    <button class="actionButtons" onclick="move()"> Go </button>
  </div>

  <div id="actionButtons">
    <button class="actionButtons" onclick="clean()">Clean Up ATMS</button> <p> Gain 10£</p>
    <button class="actionButtons" onclick="hint()">Get Info</button> <p> Spend 10£ for a hint</p>
  </div>

    <button class="howToButt" onclick="howToOn()">HOW TO PLAY</button>
    <button class="resetButt" onclick="setup()">Reset the Game</button>
</div>
</div>
